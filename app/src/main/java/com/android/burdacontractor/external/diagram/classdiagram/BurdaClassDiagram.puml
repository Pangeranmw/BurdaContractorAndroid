@startuml
'https://plantuml.com/class-diagram

class suratjalan.domain.usecase.SuratJalanInteractor implements suratjalan.domain.usecase.SuratJalanUseCase
class suratjalan.data.source.remote.SuratJalanRemoteDataSource
interface suratjalan.domain.usecase.SuratJalanUseCase

class suratjalan.domain.usecase.GetAllSuratJalanInteractor implements suratjalan.domain.usecase.GetAllSuratJalanUseCase
interface suratjalan.domain.usecase.GetAllSuratJalanUseCase

class suratjalan.domain.usecase.AddSuratJalanPengirimanGpInteractor implements suratjalan.domain.usecase.AddSuratJalanPengirimanGpUseCase
interface suratjalan.domain.usecase.AddSuratJalanPengirimanGpUseCase

class suratjalan.domain.usecase.AddSuratJalanPengembalianInteractor implements suratjalan.domain.usecase.AddSuratJalanPengembalianUseCase
interface suratjalan.domain.usecase.AddSuratJalanPengembalianUseCase

class suratjalan.domain.usecase.AddSuratJalanPengirimanPpInteractor implements suratjalan.domain.usecase.AddSuratJalanPengirimanPpUseCase
interface suratjalan.domain.usecase.AddSuratJalanPengirimanPpUseCase

class suratjalan.domain.usecase.DeleteSuratJalanInteractor implements suratjalan.domain.usecase.DeleteSuratJalanUseCase
interface suratjalan.domain.usecase.DeleteSuratJalanUseCase

class suratjalan.domain.usecase.GetAllSuratJalanInteractor
interface suratjalan.domain.usecase.GetAllSuratJalanUseCase

class suratjalan.domain.usecase.GetSuratJalanByIdInteractor
interface suratjalan.domain.usecase.GetSuratJalanByIdUseCase

class suratjalan.domain.usecase.UpdateSuratJalanPengembalianInteractor
interface suratjalan.domain.usecase.UpdateSuratJalanPengembalianUseCase

class suratjalan.domain.usecase.UpdateSuratJalanPengirimanGpInteractor
interface suratjalan.domain.usecase.UpdateSuratJalanPengirimanGpUseCase

class suratjalan.domain.usecase.UpdateSuratJalanPengirimanPpInteractor
interface suratjalan.domain.usecase.UpdateSuratJalanPengirimanPpUseCase

class suratjalan.domain.usecase.UploadFotoBuktiSuratJalanInteractor
interface suratjalan.domain.usecase.UploadFotoBuktiSuratJalanUseCase

interface suratjalan.domain.repository.ISuratJalanRepository
interface suratjalan.data.source.remote.network.SuratJalanService
class suratjalan.data.SuratJalanRepository implements suratjalan.domain.repository.ISuratJalanRepository
suratjalan.data.SuratJalanRepository -u> suratjalan.data.source.remote.SuratJalanRemoteDataSource
suratjalan.data.SuratJalanRepository -> suratjalan.data.source.remote.StorageDataSource
suratjalan.domain.usecase.SuratJalanInteractor --d> suratjalan.data.SuratJalanRepository
suratjalan.presentation.SuratJalanViewModel -d> suratjalan.domain.usecase
suratjalan.data.source.remote.SuratJalanRemoteDataSource -l> suratjalan.data.source.remote.network.SuratJalanService
class suratjalan.presentation.SuratJalanViewModel<HiltViewModel>
class suratjalan.presentation.SuratJalanActivity
class suratjalan.presentation.SuratJalanFragment
class suratjalan.presentation.AddSuratJalanFragment
class suratjalan.presentation.DetailFragment
class suratjalan.presentation.CetakSuratJalanFragment


class SuratJalanCreateFragment{
    -binding
    -navController
    -suratJalanViewModel
    -logisticViewModel
    initListener()
    addSuratJalan()
    onNavigationItemSelected()
}

class SessionManager {
    -pref
    -editor
    +KEY_LOGIN
    +KEY_TOKEN
    +KEY_USER_ID
    +KEY_ROLE
    +createLoginSession()
    +logout()
    +isLogin()
    +saveToPreference()
    +getFromPreference()
}

class AuthViewModel<HiltViewModel> {
    +loginResponse
    +messageResponse
    +state
    +loginUser()
    +loginWithPin()
    +register()
    +logout()
}

class UserViewModel<HiltViewModel>{
    +profileResponse
    +ttd
    +messageResponse
    +state
    +getProfile()
    +updateProfile()
    +updatePassword()
    +uploadPhoto()
    +uploadTTD()
    +getTTD()
}

class DeliveryOrderViewModel<HiltViewModel> {
    +state
    +allDeliveryOrderResponse
    +deliveryOrderDetailResponse
    +pantauDeliveryOrderResponse
    +messageResponse
    +getAllDeliveryOrder()
    +getDeliveryOrderById()
    +addDeliveryOrder()
    +deleteDeliveryOrder()
    +changeStatusDeliveryOrder()
    +uploadFotoBukti()
    +pantauDeliveryOrder()
}

class PerusahaanViewModel<HiltViewModel> {
    +state
    +allPerusahaanResponse
    +perusahaanDetailResponse
    +messageResponse
    +getAllPerusahaan()
    +getPerusahaanById()
    +addPerusahaan()
    +deletePerusahaan()
    +updatePerusahaan()
}

class GudangViewModel<HiltViewModel> {
    +state
    +allGudangResponse
    +gudangDetailResponse
    +messageResponse
    +getAllGudang()
    +getGudangById()
    +addGudang()
    +deleteGudang()
    +updateGudang()
    +tempatiGudang()
}

class KendaranViewModel<HiltViewModel> {
    +state
    +allKendaraanResponse
    +kendaraanDetailResponse
    +messageResponse
    +getAllKendaraan()
    +getKendaraanById()
    +addKendaraan()
    +deleteKendaraan()
    +updateKendaraan()
    +hapusPengendara()
}

enum UserRole {
ADMIN
ADMIN_GUDANG
SUPERVISOR
LOGISTIC
PURCHASING
PROJECT_MANAGER
UMUM
}

enum SuratJalanStatus {
    MENUNGGU_KONFIRMASI_DRIVER
    DRIVER_DALAM_PERJALANAN
    SELESAI
}

enum PengembalianStatus {
    MENUNGGU_PENGEMBALIAN
    SEDANG_DIKEMBALIKAN
    SELESAI
}
enum PeminjamanTipe {
    GUDANG_PROYEK
    PROYEK_PROYEK
}
enum SuratJalanTipe {
    PENGIRIMAN_PROYEK_PROYEK
    PENGIRIMAN_GUDANG_PROYEK
    PENGEMBALIAN
}
enum PeminjamanStatus {
    MENUNGGU_AKSES
    AKSES_DITOLAK
    MENUNGGU_PENGIRIMAN
    SEDANG_DIKIRIM
    DIPINJAM
    SELESAI
}

enum PeminjamanDetailStatus {
    MENUNGGU_AKSES
    DIGUNAKAN
    TIDAK_DIGUNAKAN
    DIPINJAM_PROYEK_LAIN
    DIKEMBALIKAN
}

enum BarangTidakHabisPakaiKondisi {
    BARU
    BEKAS
}

enum DeliveryOrderStatus {
    MENUNGGU_KONFIRMASI_ADMIN_GUDANG
    MENUNGGU_KONFIRMASI_DRIVER
    DRIVER_DALAM_PERJALANAN
    SELESAI
}
class SuratJalanViewModel<HiltViewModel> {
    +state
    +allSuratJalanResponse: LiveData<AllSuratJalanResponse>
    +suratJalanDetailResponse: LiveData<AllSuratJalanResponse>
    +pantauSuratJalanResponse
    +messageResponse
    +getAllSuratJalan()
    +getSuratJalanById()
    +addSuratJalanPengirimanPp()
    +addSuratJalanPengembalian()
    +updateSuratJalanPengirimanGp()
    +updateSuratJalanPengirimanGp()
    +updateSuratJalanPengembalian()
    +deleteSuratJalan()
    +markCompleteSuratJalan()
    +uploadFotoBukti()
    +pantauSuratJalan()
    +telusuriSuratJalan()
}

newpage
header "Module"
abstract NetworkModule<SingletonComponent> {
    +provideFirebaseReference()
    +provideConnectivityManager()
    +provideOkHttpClient()
    +provideDistanceMatrixService()
    +provideRetrofit()
    +provideApiService()
    +provideAuthService()
    +provideUserService()
    +provideBarangService()
    +provideDeliveryOrderService()
    +provideProyekService()
    +providePerusahaanService()
    +provideGudangService()
    +providePeminjamanService()
    +providePengembalianService()
    +provideAksesBarangService()
    +provideKendaraanService()
    +providePreOrderService()
    +provideSuratJalanService()
}
abstract StorageModule<SingletonComponent> {
    +provideSessionManager()
}

abstract RepositoryModule<SingletonComponent> {
    +provideSuratJalanRepository()
    +provideTourismRepository()
    +provideLogisticRepository()
    +provideLogisticRepository()
    +provideStorageRepository()
    +provideKendaraanRepository()
    +providePeminjamanRepository()
    +providePengembalianRepository()
    +providePerusahaanRepository()
    +provideGudangRepository()
    +provideProyekRepository()
    +provideBarangRepository()
    +provideAksesBarangRepository()
    +provideDeliveryOrderRepository()
}
abstract AppModule<ViewModelComponent> {
    +provideSuratJalanUseCase()
    +provideGetAllSuratJalanUseCase(getAllSuratJalanInteractor): GetAllSuratJalanUseCase
    +provideGetSuratJalanByIdUseCase(getSuratJalanByIdInteractor): GetSuratJalanByIdUseCase
    +provideAuthUseCase()
    +provideLogisticUseCase()
    +provideStorageUseCase()
    +provideKendaraanUseCase()
    +providePeminjamanUseCase()
    +providePengembalianUseCase()
    +providePerusahaanUseCase()
    +provideGudangUseCase()
    +provideProyekUseCase()
    +provideBarangUseCase()
    +provideAksesBarangUseCase()
    +provideDeliveryOrderUseCase()
    +providePreOrderUseCase()
    +provideUserUseCase()
    +provideDistanceMatrixUseCase()
}
NetworkModule -[hidden]r- AppModule
StorageModule -[hidden]u- RepositoryModule
@enduml